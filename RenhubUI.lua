--[[
RenhubUI
by https://github.com/SHAREHACK
stripped down by ThatMG393

original file: https://raw.githubusercontent.com/SHAREHACK/bloxfruit/main/free
]]

local Keybind = Enum.KeyCode.RightControl
local CurrentSelectedTab = nil
local WhatIsFF = false

local TweenService = game:GetService('TweenService')
local UserInputService = game:GetService('UserInputService')

local Theme = {
	Dark = {
		WindowBackground = Color3.fromRGB(30, 28, 39),
		TextColor = Color3.fromRGB(225, 0, 0)
	},
	Color = {
		White = Color3.fromRGB(255, 255, 255)
	}
}

local RenhubUI = {}

function RenhubUI:GetThemeTable()
	return Theme
end

--[[ CreateWindow(WindowOptions)
	CreateNewWindow = {
		XSize  : Number, Nullable
		YSize  : Number, Nullable
		Title  : String, NonNull
		Keybind: Enum  , Nullable
	}
]]
function RenhubUI:CreateNewWindow(WindowOptions)
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "RenhubGUI"
	ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
	ScreenGui.ResetOnSpawn = false
	
	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "MainFrame"
	MainFrame.Parent = ScreenGui
	Main.BackgroundColor3 = RenhubUI:GetThemeTable().Dark.WindowBackground
	Main.ClipsDescendants = true
	Main.Position = UDim2.new(0.499526083, 0, 0.499241292, 0)
	if WindowOptions.XSize and WindowOptions.YSize then
		Main.Size = UDim2.new(0, WindowOptions.XSize, 0, WindowOptions.YSize)
	else
		Main.Size = UDim2.new(0, 600, 0, 350)
	end
	
	local TopFrame = Instance.new("Frame")
	TopFrame.Name = "TopFrame"
	TopFrame.Parent = MainFrame
	TopFrame.Size = UDim2.new(0, Main.Size.X, 0, 20)
	TopFrame.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
	
	local PageFrame = Instance.new("Frame")
	PageFrame.Name = "PageFrame"
	PageFrame.Parent = MainFrame
	PageFrame.Size = UDim2.new(0, Main.Size.X, 0, Main.Size.Y)
	
	local WindowTitle = Instance.new("TextLabel")
	WindowTitle.Name = "WindowTitle"
	WindowTitle.Parent = PageFrame
	WindowTitle.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
	WindowTitle.BackgroundTransparency = 1.000
	WindowTitle.Position = UDim2.new(0.113333493, 0, 0, 0)
	WindowTitle.Size = UDim2.new(0, 110, 0, 20)
	WindowTitle.Font = Enum.Font.GothamSemibold
	WindowTitle.Text = WindowOptions.Title
	WindowTitle.TextColor3 = RenhubUI:GetThemeTable().Dark.TextColor
	WindowTitle.TextSize = 11.000
	WindowTitle.TextXAlignment = Enum.TextXAlignment.Left
	
	local UserFrame = Instance.new("Frame")
	UserFrame.Name = "UserFrame"
	UserFrame.Parent = PageFrame
	UserFrame.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
	UserFrame.BackgroundTransparency = 1.000
	UserFrame.Position = UDim2.new(0, 0, 0.8, 30)
	UserFrame.Size = UDim2.new(0, 125, 0, 40)
	
	local UserText = Instance.new("TextLabel")
	UserText.Name = "UserText"
	UserText.Parent = UserFrame
	UserText.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
	UserText.BackgroundTransparency = 1.000
	UserText.Position = UDim2.new(0.354999989, 0, 0, 11)
	UserText.Size = UDim2.new(0, 80, 0, 20)
	UserText.Font = Enum.Font.Gotham
	UserText.Text = tostring(game.Players.LocalPlayer.Name)
	UserText.TextScaled = true
	UserText.TextSize = 11.000
	UserText.TextWrapped = true
	UserText.TextXAlignment = Enum.TextXAlignment.Left
	CycleColorRGB(UserText)
	
	local UserTextSizeConstraint = Instance.new("UITextSizeConstraint")
	UserTextSizeConstraint.Parent = UserText
	UserTextSizeConstraint.MaxTextSize = 11
	
	local UserImage = Instance.new("ImageLabel")
	UserImage.Name = "UserImage"
	UserImage.Parent = User
	UserImage.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
	UserImage.Position = UDim2.new(0, 10, 0, 9)
	UserImage.Size = UDim2.new(0, 25, 0, 25)
	UserImage.Image = "https://www.roblox.com/headshot-thumbnail/image?userId="..game.Players.LocalPlayer.UserId.."&width=420&height=420&format=png"
    
	local UserImageRounder = Instance.new("UICorner")
	UserImageRounder.CornerRadius = UDim.new(0, 100)
	UserImageRounder.Name = "UserImageRounder"
	UserImageRounder.Parent = UserImage
	
	local ScrollPage = Instance.new("ScrollingFrame")
	ScrollPage.Name = "ScrollPage"
	ScrollPage.Parent = Page
	ScrollPage.Active = true
	ScrollPage.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
	ScrollPage.BackgroundTransparency = 1.000
	ScrollPage.BorderSizePixel = 0
	ScrollPage.Position = UDim2.new(0, 0, 0.086, 0)
	ScrollPage.Size = UDim2.new(0, 125, 0, 290)
	ScrollPage.CanvasSize = UDim2.new(0, 0, 0, 0)
	ScrollPage.ScrollBarThickness = 0
	
	local PageList = Instance.new("UIListLayout")
	PageList.Name = "PageList"
	PageList.Parent = ScrollPage
	PageList.SortOrder = Enum.SortOrder.LayoutOrder
	PageList.Padding = UDim.new(0, 7)
    
	local PagePadding = Instance.new("UIPadding")
	PagePadding.Name = "PagePadding"
	PagePadding.Parent = ScrollPage
	PagePadding.PaddingTop = UDim.new(0, 5)
	PagePadding.PaddingLeft = UDim.new(0, 28)
	
	local TabContainer = Instance.new("Folder")
	TabContainer.Name = "TabContainer"
	TabContainer.Parent = Main
	
	MakeDragable(TopFrame, MainFrame)
	
	local Window = {}
	
	--[[ AddNewTab(TabOptions)
		Name    : String     , NonNull
		Icon    : URL(String), Nullable
	]]
	function Window:AddNewTab(TabOptions)
		local NonNull_TabIcon = TapOptions.Icon or 6023426915
		
		local TabButton = Instance.new("TextButton")
		TabButton.Name = "TabButton"
		TabButton.Parent = ScrollPage
		TabButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabButton.BackgroundTransparency = 1.000
		TabButton.BorderSizePixel = 0
		TabButton.Position = UDim2.new(0.224000007, 0, 0.029787235, 0)
		TabButton.Size = UDim2.new(0, 97, 0, 20)
		TabButton.AutoButtonColor = false
		TabButton.Font = Enum.Font.GothamSemibold
		TabButton.Text = TabOptions.Name
		TabButton.TextColor3 = RenhubUI:GetThemeTable().Color.White
		TabButton.TextSize = 11.000
		TabButton.TextXAlignment = Enum.TextXAlignment.Left
	
		local TabImage = Instance.new("ImageLabel")
		TabImage.Name = "TabImage"
		TabImage.Parent = TabButton
		TabImage.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
		TabImage.BackgroundTransparency = 1.000
		TabImage.Position = UDim2.new(0, -20, 0, 3)
		TabImage.Size = UDim2.new(0, 15, 0, 15)
		TabImage.Image = BuildRbxAssetsUrl(NonNull_TabIcon)
		
		local TabFrame = Instance.new("Frame")
		TabFrame.Name = TabOptions.Name
		MainTab.Parent = TabContainer
		MainTab.BackgroundColor3 = RenhubUI:GetThemeTable().Dark.WindowBackground
		MainTab.BorderSizePixel = 0
		MainTab.Position = UDim2.new(0.208333328, 0, 0, 0)
		MainTab.Size = UDim2.new(0, 475, 0, 350)
		MainTab.Visible = false
		
		local ScrollTabFrame = Instance.new("ScrollingFrame")
		ScrollTabFrame.Name = "ScrollTabFrame"
		ScrollTabFrame.Parent = TabFrame
		ScrollTabFrame.BackgroundColor3 = RenhubUI:GetThemeTable().Color.White
		ScrollTabFrame.BackgroundTransparency = 1.000
		ScrollTabFrame.BorderSizePixel = 0
		ScrollTabFrame.Position = UDim2.new(0, 0, 0.057, 0)
		ScrollTabFrame.Size = UDim2.new(0, 475, 0, 330)
		ScrollTabFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
		ScrollTabFrame.ScrollBarThickness = 3
    
		local TabList = Instance.new("UIListLayout")
		TabList.Name = "TabList"
		TabList.Parent = ScrollTabFrame
		TabList.SortOrder = Enum.SortOrder.LayoutOrder
		TabList.Padding = UDim.new(0, 5)
    
		local TabPadding = Instance.new("UIPadding")
		TabPadding.Name = "TabPadding"
		TabPadding.Parent = ScrollTabFrame
		TabPadding.PaddingLeft = UDim.new(0, 10)
		TabPadding.PaddingTop = UDim.new(0, 10)
		
		TabButton.MouseButton1Click:Connect(function ()
			CurrentSelectedTab = TabFrame.Name
			
			for i, GuiObject in next, TabFolder:GetChildren() do
				if GuiObject.Name == TabOptions.Name then
					GuiObject.Visible = false
				end
			end
			TabFrame.Visible = true
			
			for i, GuiObject in next, ScrollTabFrame:GetChildren() do
				if GuiObject:IsA("TextButton") then
					TweenService:Create(
						GuiObject,
						TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
						{TextColor3 = RenhubUI:GetThemeTable().Dark.TextColor}
					):Play()
				end
				TweenService:Create(
					PageButton,
					TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
					{TextColor3 = Color3.fromRGB(255,0,0)}
				):Play()
			end
		end)
		
		if not WhatIsFF then
			TweenService:Create(
				TabButton,
				TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
				{TextColor3 = Color3.fromRGB(255,0,0)}
			):Play()
			for i, GuiObject in next, TabFolder:GetChildren() do 
				if GuiObject.Name == TabOptions.Name then
					GuiObject.Visible = false
				end
				TabFrame.Visible = true
			end
			WhatIsFF = true
		end
		
		local Tab = {}
		
		--[[ CreateNewButton(ButtonOptions)
			ButtonOptions = {
				Name         = String  , NonNull
				Callback     = Function, Nullable
			}
		]]
		function Tab:CreateNewButton(ButtonOptions)
			local MainButton = Instance.new("TextButton")
			MainButton.Name = ButtonOptions.Name
			MainButton.Parent = ScrollTabFrame
			MainButton.BackgroundColor3 = Color3.fromRGB(50, 48, 59)
			MainButton.BackgroundTransparency = 0.1
			MainButton.BorderSizePixel = 0
			MainButton.Size = UDim2.new(0, 455, 0, 30)
			MainButton.AutoButtonColor = false
			MainButton.Font = Enum.Font.Gotham
			MainButton.Text = text
			MainButton.TextColor3 = RenhubUI:GetThemeTable().Dark.TextColor
			MainButton.TextSize = 11.000
			MainButton.TextWrapped = true
                
			local ButtonRounder = Instance.new("UICorner")
			ButtonRounder.Name = "ButtonRounder"
			ButtonRounder.CornerRadius = UDim.new(0, 5)
			ButtonRounder.Parent = MainButton
			
			MainButton.MouseEnter:Connect(function()
				TweenService:Create(
					MainButton,
					TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
					{TextColor3 = Color3.fromRGB(255,0,0)}
				):Play()
			end)
                
			MainButton.MouseLeave:Connect(function()
				TweenService:Create(
					MainButton,
					TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
					{TextColor3 = Color3.fromRGB(225, 225, 225)}
				):Play()
			end)
                
			MainButton.MouseButton1Click:Connect(function()
				ButtonOptions.Callback()
				MainButton.TextSize = 0
				TweenService:Create(
					MainButton,
					TweenInfo.new(0.4,Enum.EasingStyle.Back,Enum.EasingDirection.Out),
					{TextSize = 11}
				):Play()
			end)
		end
		return Tab
	end -- AddNewTab()
	return Window
end -- CreateNewWindow()

local function CycleColorRGB(GuiObject)
	spawn(function()
		while wait() do
			pcall(function()
				wait(0.1) 
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 0)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 155, 0)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 255, 0)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(0, 255, 0)}
				):Play()
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(0, 255, 255)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(0, 155, 255)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 255)}
				):Play() 
				wait(.5)
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 255)}
				):Play()
				wait(.5)
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 155)}
				):Play()
				wait(.5)
			end)
		end
	end)
end

local function MakeDragable(UI_Top, UI_Main)
	local IsDragging, DragInput, DragStart, StartPosition = nil
	
	local function Update(UserInput)
		local Delta = UserInput.Position - DragStart
		local pos = UDim2.new(
			StartPosition.X.Scale,
			StartPosition.X.Offset + Delta.X,
			StartPosition.Y.Scale,
			StartPosition.Y.Offset + Delta.Y
		)
		
		local MoveAnimTween = TweenService:Create(object, TweenInfo.new(0.2), {Position = pos})
		MoveAnimTween:Play()
	end
		    
	UI_Top.InputBegan:Connect(function(UserInput)
		if UserInput.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			IsDragging = true
			DragStart = UserInput.Position
			StartPosition = UI_Main.Position
		    
			UserInput.Changed:Connect(function()
				if UserInput.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)
	
	UI_Top.InputChanged:Connect(function(UserInput)
		if UserInput.UserInputType == Enum.UserInputType.MouseMovement or 
			UserInput.UserInputType == Enum.UserInputType.Touch
		then
			DragInput = UserInput
		end
	end)
    
	UserInputService.InputChanged:Connect(function(UserInput)
		if UserInput == DragInput and IsDragging then
			Update(UserInput)
		end
	end)
end

local function BuildRbxAssetsUrl(AssetId)
	return "rbxassetid://" .. tostring(AssetId)
end

return RenhubUI
