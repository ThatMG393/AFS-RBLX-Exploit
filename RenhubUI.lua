--[[
RenhubUI
by https://github.com/SHAREHACK
stripped down by ThatMG393

original file: https://raw.githubusercontent.com/SHAREHACK/bloxfruit/main/free
]]

local Keybind = Enum.KeyCode.RightControl
local CurrentSelectedTab = nil
local WhatIsFF = false

local TweenService = game:GetService('TweenService')
local UserInputService = game:GetService('UserInputService')

local Theme = {
	Dark = {
		WindowBackground = Color3.fromRGB(30, 28, 39),
		TextColor = Color3.fromRGB(225, 0, 0),
		ImageColor = Color3.fromRGB(255, 255, 255)
	},
	Color = {
		White = Color3.fromRGB(255, 255, 255)
	}
}

local RenhubUI = { Utils = {} }

function RenhubUI.Utils:GetThemeTable()
	return Theme
end

--[[ CreateWindow(WindowOptions)
	CreateNewWindow = {
		XSize  : Number, Nullable
		YSize  : Number, Nullable
		Name   : String, NonNull
		Keybind: Enum  , Nullable
	}
]]
function RenhubUI:CreateNewWindow(WindowOptions)
	RenhubUI:Destroy()
	
	--[[
		ScreenGUI > MainFrame | TopbarContainer      \
							  | PageContainer | TabListContainer						  \
											  | ScrollablePageContainer > PageUIContainer | TabPageContainer
										
	]]
	
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "RenhubGUI"
	ScreenGui.Parent = game.CoreGui
	ScreenGui.ResetOnSpawn = false
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	
	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "MainFrame"
	MainFrame.Parent = ScreenGui
	MainFrame.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Dark.WindowBackground
	MainFrame.BackgroundTransparency = 0.100
	MainFrame.BorderSizePixel = 0
	MainFrame.ClipsDescendants = true
	MainFrame.Position = UDim2.new(0.499526083, 0, 0.499241292, 0)
	if WindowOptions.XSize and WindowOptions.YSize then
		MainFrame.Size = UDim2.new(0, WindowOptions.XSize, 0, WindowOptions.YSize)
	else
		MainFrame.Size = UDim2.new(0, 600, 0, 350)
	end
	
	local TopbarContainer = Instance.new("Frame")
	TopbarContainer.Name = "TopbarContainer"
	TopbarContainer.Parent = MainFrame
	TopbarContainer.BackgroundTransparency = 0.000
	TopbarContainer.BorderSizePixel = 0
	TopbarContainer.Size = UDim2.new(0, MainFrame.Size.X, 0, 20)
	TopbarContainer.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Color.White
	
	local WindowTitle = Instance.new("TextLabel")
	WindowTitle.Name = "WindowTitle"
	WindowTitle.Parent = TopbarContainer
	WindowTitle.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Color.White
	WindowTitle.BackgroundTransparency = 1.000
	WindowTitle.Position = UDim2.new(0.113333493, 0, 0, 0)
	WindowTitle.Size = UDim2.new(0, 110, 0, 20)
	WindowTitle.Font = Enum.Font.GothamSemibold
	WindowTitle.Text = WindowOptions.Name
	WindowTitle.TextColor3 = RenhubUI.Utils:GetThemeTable().Dark.TextColor
	WindowTitle.TextSize = 11.000
	WindowTitle.TextXAlignment = Enum.TextXAlignment.Left
	
	local PageContainer = Instance.new("Frame")
	PageContainer.Name = "PageContainer"
	PageContainer.Parent = MainFrame
	PageContainer.Size = UDim2.new(0, 125, 0, (MainFrame.Size.Y - TopbarContainer.Size.Y))
	PageContainer.BackgroundTransparency = 0.100
	PageContainer.BorderSizePixel = 0
	
	--[[
	local PageContainerPadding = Instance.new("UIPadding")
	PageContainerPadding.Name = "PageContainerPadding"
	PageContainerPadding.Parent = PageContainer
	PageContainerPadding.PaddingTop = UDim.new(0, TopbarContainer.Size.Y)
	]]
	
	local TabListContainer = Instance.new("Folder")
	TabListContainer.Name = "TabListContainer"
	TabListContainer.Parent = PageContainer
	
	local ScrollablePageContainer = Instance.new("ScrollingFrame")
	ScrollablePageContainer.Name = "ScrollablePageContainer"
	ScrollablePageContainer.Parent = PageContainer
	ScrollablePageContainer.Active = true
	ScrollablePageContainer.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Color.White
	ScrollablePageContainer.BackgroundTransparency = 1.000
	ScrollablePageContainer.BorderSizePixel = 0
	ScrollablePageContainer.Position = UDim2.new(0, 0, 0.086, 0)
	ScrollablePageContainer.Size = UDim2.new(0, 125, 0, 290)
	ScrollablePageContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
	ScrollablePageContainer.ScrollBarThickness = 0
	
	local ScrollPagePadding = Instance.new("UIPadding")
	ScrollPagePadding.Name = "ScrollPagePadding"
	ScrollPagePadding.Parent = ScrollablePageContainer
	ScrollPagePadding.PaddingTop = UDim.new(0, 5)
	ScrollPagePadding.PaddingLeft = UDim.new(0, 28)
	
	local PageUIContainer = Instance.new("UIListLayout")
	PageUIContainer.Name = "PageUIContainer"
	PageUIContainer.Parent = ScrollablePageContainer
	PageUIContainer.SortOrder = Enum.SortOrder.LayoutOrder
	PageUIContainer.Padding = UDim.new(0, 7)
	
	RenhubUI.Utils:MakeDragable(TopbarContainer, MainFrame)
	
	local Window = {}
	
	--[[ AddNewTab(TabOptions)
		Name: String , NonNull
		Icon: AssetId, Nullable
	]]
	function Window:AddNewTab(TabOptions)
		local NonNull_Icon = TabOptions.Icon or 6023426915
		local NonNull_Name = TabOptions.Name or "Button"
		
		local TabButton = Instance.new("TextButton")
		TabButton.Name = "TabButton"
		TabButton.Parent = ScrollablePageContainer
		TabButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabButton.BackgroundTransparency = 1.000
		TabButton.BorderSizePixel = 0
		TabButton.Position = UDim2.new(0.224000007, 0, 0.029787235, 0)
		TabButton.Size = UDim2.new(0, 97, 0, 20)
		TabButton.AutoButtonColor = false
		TabButton.Font = Enum.Font.GothamSemibold
		TabButton.Text = NonNull_Name
		TabButton.TextColor3 = RenhubUI.Utils:GetThemeTable().Color.White
		TabButton.TextSize = 11.000
		TabButton.TextXAlignment = Enum.TextXAlignment.Left
	
		local TabImage = Instance.new("ImageLabel")
		TabImage.Name = "TabImage"
		TabImage.Parent = TabButton
		TabImage.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Dark.ImageColor
		TabImage.BackgroundTransparency = 1.000
		TabImage.Position = UDim2.new(0, -20, 0, 3)
		TabImage.Size = UDim2.new(0, 15, 0, 15)
		TabImage.Image = RenhubUI.Utils:BuildRbxAssetsUrl(NonNull_Icon)
		
		
		local TabContainer = Instance.new("Frame")
		TabContainer.Name = NonNull_Name
		TabContainer.Parent = ScrollablePageContainer
		TabContainer.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Dark.WindowBackground
		TabContainer.BorderSizePixel = 0
		TabContainer.Position = UDim2.new(0.208333328, 0, 0, 0)
		TabContainer.Size = UDim2.new(0, 475, 0, 350)
		TabContainer.Visible = false
		
		local ScrollableTabContainer = Instance.new("ScrollingFrame")
		ScrollableTabContainer.Name = "ScrollableTabContainer"
		ScrollableTabContainer.Parent = TabContainer
		ScrollableTabContainer.BackgroundColor3 = RenhubUI.Utils:GetThemeTable().Color.White
		ScrollableTabContainer.BackgroundTransparency = 1.000
		ScrollableTabContainer.BorderSizePixel = 0
		ScrollableTabContainer.Position = UDim2.new(0, 0, 0.057, 0)
		ScrollableTabContainer.Size = UDim2.new(0, 475, 0, 330)
		ScrollableTabContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
		ScrollableTabContainer.ScrollBarThickness = 3
		
		local TabContainerPadding = Instance.new("UIPadding")
		TabContainerPadding.Name = "TabContainerPadding"
		TabContainerPadding.Parent = ScrollableTabContainer
		TabContainerPadding.PaddingLeft = UDim.new(0, 10)
		TabContainerPadding.PaddingTop = UDim.new(0, 10)
    
		local TabListLayout = Instance.new("UIListLayout")
		TabListLayout.Name = "TabListLayout"
		TabListLayout.Parent = ScrollableTabContainer
		TabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
		TabListLayout.Padding = UDim.new(0, 5)
		
		TabButton.MouseButton1Click:Connect(function ()
			-- CurrentSelectedTab = TabContainer.Name
			
			for i, GuiObject in next, TabListContainer:GetChildren() do
				if GuiObject.Name == NonNull_Name then
					GuiObject.Visible = false
				end
			end
			ScrollableTabContainer.Visible = true
			
			for i, GuiObject in next, ScrollableTabContainer:GetChildren() do
				if GuiObject:IsA("TextButton") then
					TweenService:Create(
						GuiObject,
						TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
						{TextColor3 = RenhubUI.Utils:GetThemeTable().Dark.TextColor}
					):Play()
				end
			end
			TweenService:Create(
				TabButton,
				TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
				{TextColor3 = Color3.fromRGB(255,0,0)}
			):Play()
		end)
		
		--[[
		if not WhatIsFF then
			TweenService:Create(
				TabButton,
				TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
				{TextColor3 = Color3.fromRGB(255,0,0)}
			):Play()
			for i, GuiObject in next, TabListContainer:GetChildren() do 
				if GuiObject.Name == NonNull_Name then
					GuiObject.Visible = false
				end
				TabContainer.Visible = true
			end
			WhatIsFF = true
		end
		]]
		
		local Tab = {}
		
		--[[ CreateNewButton(ButtonOptions)
			ButtonOptions = {
				Name         = String  , NonNull
				Callback     = Function, Nullable
			}
		]]
		function Tab:CreateNewButton(ButtonOptions)
			local MainButton = Instance.new("TextButton")
			MainButton.Name = ButtonOptions.Name
			MainButton.Parent = ScrollableTabContainer
			MainButton.BackgroundColor3 = Color3.fromRGB(50, 48, 59)
			MainButton.BackgroundTransparency = 0.1
			MainButton.BorderSizePixel = 0
			MainButton.Size = UDim2.new(0, 455, 0, 30)
			MainButton.AutoButtonColor = false
			MainButton.Font = Enum.Font.Gotham
			MainButton.Text = ButtonOptions.Name
			MainButton.TextColor3 = RenhubUI.Utils:GetThemeTable().Dark.TextColor
			MainButton.TextSize = 11.000
			MainButton.TextWrapped = true
                
			local ButtonRounder = Instance.new("UICorner")
			ButtonRounder.Name = "ButtonRounder"
			ButtonRounder.CornerRadius = UDim.new(0, 5)
			ButtonRounder.Parent = MainButton
			
			MainButton.MouseEnter:Connect(function()
				TweenService:Create(
					MainButton,
					TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
					{TextColor3 = Color3.fromRGB(255,0,0)}
				):Play()
			end)
                
			MainButton.MouseLeave:Connect(function()
				TweenService:Create(
					MainButton,
					TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
					{TextColor3 = Color3.fromRGB(225, 225, 225)}
				):Play()
			end)
                
			MainButton.MouseButton1Click:Connect(function()
				ButtonOptions.Callback()
				MainButton.TextSize = 0
				TweenService:Create(
					MainButton,
					TweenInfo.new(0.4,Enum.EasingStyle.Back,Enum.EasingDirection.Out),
					{TextSize = 11}
				):Play()
			end)
		end
		return Tab
	end -- AddNewTab()
	return Window
end -- CreateNewWindow()

function RenhubUI.Utils:CycleColorRGB(GuiObject)
	spawn(function()
		while wait() do
			pcall(function()
				wait(0.1) 
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 0)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 155, 0)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 255, 0)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(0, 255, 0)}
				):Play()
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(0, 255, 255)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(0, 155, 255)}
				):Play() 
				wait(.5)            
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 255)}
				):Play() 
				wait(.5)
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 255)}
				):Play()
				wait(.5)
				TweenService:Create(
					GuiObject,TweenInfo.new(1,Enum.EasingStyle.Linear,Enum.EasingDirection.InOut),
					{TextColor3 = Color3.fromRGB(255, 0, 155)}
				):Play()
				wait(.5)
			end)
		end
	end)
end

function RenhubUI.Utils:MakeDragable(UI_Top, UI_Main)
	local IsDragging, DragInput, DragStart, StartPosition = nil
	
	local function Update(UserInput)
		local Delta = UserInput.Position - DragStart
		local pos = UDim2.new(
			StartPosition.X.Scale,
			StartPosition.X.Offset + Delta.X,
			StartPosition.Y.Scale,
			StartPosition.Y.Offset + Delta.Y
		)
		
		local MoveAnimTween = TweenService:Create(object, TweenInfo.new(0.2), {Position = pos})
		MoveAnimTween:Play()
	end
		    
	UI_Top.InputBegan:Connect(function(UserInput)
		if UserInput.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			IsDragging = true
			DragStart = UserInput.Position
			StartPosition = UI_Main.Position
		    
			UserInput.Changed:Connect(function()
				if UserInput.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)
	
	UI_Top.InputChanged:Connect(function(UserInput)
		if UserInput.UserInputType == Enum.UserInputType.MouseMovement or 
			UserInput.UserInputType == Enum.UserInputType.Touch
		then
			DragInput = UserInput
		end
	end)
    
	UserInputService.InputChanged:Connect(function(UserInput)
		if UserInput == DragInput and IsDragging then
			Update(UserInput)
		end
	end)
end

function RenhubUI.Utils:BuildRbxAssetsUrl(AssetId)
	return "rbxassetid://" .. tostring(AssetId)
end

function RenhubUI:Destroy()
	do
		local ui = game.CoreGui:FindFirstChild("RenhubGUI")
		if ui then
			ui:Destroy()
		end
	end
end

return RenhubUI
